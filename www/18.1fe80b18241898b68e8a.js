(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{TbC0:function(n,l,t){"use strict";t.r(l);var o=t("CcnG"),e=t("ZZ/e"),u=t("Ywhd"),r=function(){function n(n,l){this.navCtrl=n,this.agendamentoService=l,this.totalAgentamento=0,l.conexaoFirebase()}return n.prototype.scrollInfinito=function(n){var l=this;setTimeout(function(){n.target.complete(),1e3===l.agendamentos.length&&(n.target.disabled=!0)},500)},n.prototype.toggleInfiniteScroll=function(){this.infiniteScroll.disabled=!this.infiniteScroll.disabled},n.prototype.onClickAgendamento=function(){this.navCtrl.navigateForward("/menu/agendamento")},n.prototype.ngOnInit=function(){this.loadAgendamentos("")},n.prototype.loadAgendamentos=function(n){var l=this;this.agendamentoService.getAgendamentos().subscribe(function(n){l.totalAgentamento=0,l.agendamentos=n,l.totalAgentamento+=l.agendamentos.length})},n}(),i=function(){return function(){}}(),a=t("pMnS"),c=t("oBZk"),b=t("Ip0R"),s=t("mrSG"),p=t("JAFY"),d=function(){function n(n,l,t,o,e){this.alertController=n,this.actionSheetController=l,this.toastController=t,this.modalController=o,this.serviceAgendamento=e}return n.prototype.ngOnInit=function(){},n.prototype.presentToast=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(n){switch(n.label){case 0:return[4,this.toastController.create({message:"Agendameto cancelado com sucesso.",duration:2e3})];case 1:return n.sent().present(),[2]}})})},n.prototype.excluirAgendamento=function(n){var l=this;this.serviceAgendamento.deletarAgendamento(n).then(function(){l.presentToast()})},n.prototype.presentAlert=function(n){return s.__awaiter(this,void 0,void 0,function(){var l=this;return s.__generator(this,function(t){switch(t.label){case 0:return[4,this.alertController.create({header:"Cancelar Agendamento",message:"Deseja cancelar o agendamento?",buttons:[{text:"Sim",handler:function(){l.excluirAgendamento(n)}},{text:"N\xe3o",role:"cancel",handler:function(){}}]})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}})})},n.prototype.presentActionSheet=function(n){return s.__awaiter(this,void 0,void 0,function(){var l=this;return s.__generator(this,function(t){switch(t.label){case 0:return[4,this.actionSheetController.create({header:"Agendamento",buttons:[{text:"Cancelar Agendamento",role:"destructive",icon:"close-circle",handler:function(){l.presentAlert(n)}},{text:"Editar Agendamento",icon:"create",handler:function(){l.openModal(n)}},{text:"Fechar",icon:"close",role:"cancel",handler:function(){}}]})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}})})},n.prototype.openModal=function(n){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(l){switch(l.label){case 0:return[4,this.modalController.create({component:p.a,componentProps:{value:n}})];case 1:return[4,l.sent().present()];case 2:return[2,l.sent()]}})})},n}(),h=o.nb({encapsulation:0,styles:[[""]],data:{}});function m(n){return o.Hb(0,[(n()(),o.pb(0,0,null,null,41,"section",[],null,null,null,null,null)),(n()(),o.pb(1,0,null,null,40,"ion-card",[],null,null,null,c.S,c.f)),o.ob(2,49152,null,0,e.m,[o.h,o.k],null,null),(n()(),o.pb(3,0,null,0,6,"ion-card-header",[],null,null,null,c.Q,c.h)),o.ob(4,49152,null,0,e.o,[o.h,o.k],null,null),(n()(),o.pb(5,0,null,0,4,"ion-item",[],null,null,null,c.gb,c.w)),o.ob(6,49152,null,0,e.H,[o.h,o.k],null,null),(n()(),o.pb(7,0,null,0,2,"ion-card-title",[],null,null,null,c.R,c.i)),o.ob(8,49152,null,0,e.q,[o.h,o.k],null,null),(n()(),o.Fb(9,0,[" "," "])),(n()(),o.pb(10,0,null,0,31,"ion-card-content",[],null,null,null,c.P,c.g)),o.ob(11,49152,null,0,e.n,[o.h,o.k],null,null),(n()(),o.pb(12,0,null,0,7,"ion-chip",[],null,null,null,c.T,c.j)),o.ob(13,49152,null,0,e.s,[o.h,o.k],null,null),(n()(),o.pb(14,0,null,0,1,"ion-icon",[["color","primary"],["name","calendar"]],null,null,null,c.bb,c.r)),o.ob(15,49152,null,0,e.C,[o.h,o.k],{color:[0,"color"],name:[1,"name"]},null),(n()(),o.pb(16,0,null,0,3,"ion-label",[],null,null,null,c.hb,c.x)),o.ob(17,49152,null,0,e.N,[o.h,o.k],null,null),(n()(),o.Fb(18,0,["",""])),o.Bb(19,2),(n()(),o.pb(20,0,null,0,7,"ion-chip",[],null,null,null,c.T,c.j)),o.ob(21,49152,null,0,e.s,[o.h,o.k],null,null),(n()(),o.pb(22,0,null,0,1,"ion-icon",[["color","primary"],["name","time"]],null,null,null,c.bb,c.r)),o.ob(23,49152,null,0,e.C,[o.h,o.k],{color:[0,"color"],name:[1,"name"]},null),(n()(),o.pb(24,0,null,0,3,"ion-label",[],null,null,null,c.hb,c.x)),o.ob(25,49152,null,0,e.N,[o.h,o.k],null,null),(n()(),o.Fb(26,0,["",""])),o.Bb(27,2),(n()(),o.pb(28,0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o.pb(29,0,null,0,8,"ion-chip",[],null,null,null,c.T,c.j)),o.ob(30,49152,null,0,e.s,[o.h,o.k],null,null),(n()(),o.pb(31,0,null,0,1,"ion-icon",[["color","primary"],["name","person"]],null,null,null,c.bb,c.r)),o.ob(32,49152,null,0,e.C,[o.h,o.k],{color:[0,"color"],name:[1,"name"]},null),(n()(),o.pb(33,0,null,0,2,"ion-label",[],null,null,null,c.hb,c.x)),o.ob(34,49152,null,0,e.N,[o.h,o.k],null,null),(n()(),o.Fb(35,0,["",""])),(n()(),o.pb(36,0,null,0,1,"ion-icon",[["name","cut"]],null,null,null,c.bb,c.r)),o.ob(37,49152,null,0,e.C,[o.h,o.k],{name:[0,"name"]},null),(n()(),o.pb(38,0,null,0,0,"br",[],null,null,null,null,null)),(n()(),o.pb(39,0,null,0,2,"ion-button",[["color","primary"],["type","button"]],[[8,"id",0]],[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==n.component.presentActionSheet(n.context.$implicit.id)&&o),o},c.N,c.d)),o.ob(40,49152,null,0,e.k,[o.h,o.k],{color:[0,"color"],type:[1,"type"]},null),(n()(),o.Fb(-1,0,[" configura\xe7\xe3o "]))],function(n,l){n(l,15,0,"primary","calendar"),n(l,23,0,"primary","time"),n(l,32,0,"primary","person"),n(l,37,0,"cut"),n(l,40,0,"primary","button")},function(n,l){n(l,9,0,l.context.$implicit.servico);var t=o.Gb(l,18,0,n(l,19,0,o.zb(l.parent,0),l.context.$implicit.data,"dd/MM/yyyy"));n(l,18,0,t);var e=o.Gb(l,26,0,n(l,27,0,o.zb(l.parent,0),l.context.$implicit.hora,"H:mm"));n(l,26,0,e),n(l,35,0,l.context.$implicit.barbeiro),n(l,39,0,o.rb(1,"",l.context.$implicit.id,""))})}function g(n){return o.Hb(0,[o.Ab(0,b.d,[o.u]),(n()(),o.gb(16777216,null,null,1,null,m)),o.ob(2,278528,null,0,b.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.agendamentos)},null)}var f=o.nb({encapsulation:0,styles:[[""]],data:{}});function k(n){return o.Hb(0,[o.Db(402653184,1,{infiniteScroll:0}),(n()(),o.pb(1,0,null,null,10,"ion-header",[],null,null,null,c.ab,c.q)),o.ob(2,49152,null,0,e.B,[o.h,o.k],null,null),(n()(),o.pb(3,0,null,0,8,"ion-toolbar",[["color","primary"]],null,null,null,c.tb,c.J)),o.ob(4,49152,null,0,e.Bb,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.pb(5,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,c.O,c.e)),o.ob(6,49152,null,0,e.l,[o.h,o.k],null,null),(n()(),o.pb(7,0,null,0,1,"ion-menu-button",[],null,null,null,c.jb,c.A)),o.ob(8,49152,null,0,e.R,[o.h,o.k],null,null),(n()(),o.pb(9,0,null,0,2,"ion-title",[],null,null,null,c.sb,c.I)),o.ob(10,49152,null,0,e.zb,[o.h,o.k],null,null),(n()(),o.Fb(-1,0,["Home"])),(n()(),o.pb(12,0,null,null,23,"ion-content",[["padding",""]],null,null,null,c.V,c.l)),o.ob(13,49152,null,0,e.u,[o.h,o.k],null,null),(n()(),o.pb(14,0,null,0,7,"ion-item",[],null,null,null,c.gb,c.w)),o.ob(15,49152,null,0,e.H,[o.h,o.k],null,null),(n()(),o.pb(16,0,null,0,2,"ion-label",[],null,null,null,c.hb,c.x)),o.ob(17,49152,null,0,e.N,[o.h,o.k],null,null),(n()(),o.Fb(-1,0,["Agendamentos abertos"])),(n()(),o.pb(19,0,null,0,2,"ion-badge",[["color","success"]],null,null,null,c.M,c.c)),o.ob(20,49152,null,0,e.j,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Fb(21,0,["",""])),(n()(),o.pb(22,0,null,0,7,"ion-content",[["padding",""]],null,null,null,c.V,c.l)),o.ob(23,49152,null,0,e.u,[o.h,o.k],null,null),(n()(),o.pb(24,0,null,0,1,"app-card-agendamento",[],null,null,null,g,h)),o.ob(25,114688,null,0,d,[e.b,e.a,e.Nb,e.Fb,u.a],{agendamentos:[0,"agendamentos"]},null),(n()(),o.pb(26,0,null,0,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],function(n,l,t){var o=!0;return"ionInfinite"===l&&(o=!1!==n.component.loadAgendamentos(t)&&o),o},c.eb,c.t)),o.ob(27,49152,[[1,4]],0,e.E,[o.h,o.k],{threshold:[0,"threshold"]},null),(n()(),o.pb(28,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","Carregando Agendamentos"]],null,null,null,c.db,c.u)),o.ob(29,49152,null,0,e.F,[o.h,o.k],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null),(n()(),o.pb(30,0,null,0,5,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,c.Y,c.n)),o.ob(31,49152,null,0,e.w,[o.h,o.k],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),o.pb(32,0,null,0,3,"ion-fab-button",[],null,[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==n.component.onClickAgendamento()&&o),o},c.X,c.o)),o.ob(33,49152,null,0,e.x,[o.h,o.k],null,null),(n()(),o.pb(34,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,c.bb,c.r)),o.ob(35,49152,null,0,e.C,[o.h,o.k],{name:[0,"name"]},null)],function(n,l){var t=l.component;n(l,4,0,"primary"),n(l,20,0,"success"),n(l,25,0,t.agendamentos),n(l,27,0,"100px"),n(l,29,0,"bubbles","Carregando Agendamentos"),n(l,31,0,"end","bottom"),n(l,35,0,"add")},function(n,l){n(l,21,0,l.component.totalAgentamento)})}function x(n){return o.Hb(0,[(n()(),o.pb(0,0,null,null,1,"app-home",[],null,null,null,k,f)),o.ob(1,114688,null,0,r,[e.Gb,u.a],null,null)],function(n,l){n(l,1,0)},null)}var v=o.lb("app-home",r,x,{},{},[]),y=t("gIcY"),A=t("ZYCi");t.d(l,"HomePageModuleNgFactory",function(){return C});var C=o.mb(i,[],function(n){return o.wb([o.xb(512,o.j,o.bb,[[8,[a.a,v]],[3,o.j],o.x]),o.xb(4608,b.l,b.k,[o.u,[2,b.t]]),o.xb(4608,y.p,y.p,[]),o.xb(4608,e.c,e.c,[o.z,o.g]),o.xb(4608,e.Fb,e.Fb,[e.c,o.j,o.q,b.c]),o.xb(4608,e.Jb,e.Jb,[e.c,o.j,o.q,b.c]),o.xb(1073742336,b.b,b.b,[]),o.xb(1073742336,y.n,y.n,[]),o.xb(1073742336,y.e,y.e,[]),o.xb(1073742336,e.Db,e.Db,[]),o.xb(1073742336,A.p,A.p,[[2,A.v],[2,A.m]]),o.xb(1073742336,i,i,[]),o.xb(1024,A.k,function(){return[[{path:"",component:r}]]},[])])})}}]);